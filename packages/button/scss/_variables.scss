@import "../../../node_modules/bootstrap/scss/functions";
@import "../../../node_modules/bootstrap/scss/variables";
@import "../../../node_modules/bootstrap/scss/mixins";
@import "../../../node_modules/bootstrap/scss/utilities";

$button-themes: ();
@each $theme, $value in $theme-colors {
  
  //variables initialization copied directly from twbs/scss/_button
  //  after preserving exactly what was in bootstrap, some
  //  observations were made
  //  - disabled colors are equal - exactly to "normal" baseline
  //  - all variations use the same foreground color as baseline
  //  - hover and focus are the same colors except for focus outline
  // having observed this, i will make the css we output more simplified
  // and not expose css variables for things that have equivalent values
  // for example:  no exposing fgcolor variations for "hover", "focus", "active" 
  //               because they are all the same

  $background: $value;
  $color: color-yiq($value);
  $border: $value;

  $hover-background: darken($background, 7.5%);
  $hover-color: color-yiq($hover-background);
  $hover-border: darken($border, 10%);

  $focus-background: $hover-background;
  $focus-color: color-yiq($focus-background);
  $focus-border: $hover-border;

  $focus-outline-color: rgba(mix(color-yiq($background), $border, 15%), .5);
  $focus-outline-width: $btn-focus-width;

  $active-background: darken($background, 10%);
  $active-color: color-yiq($active-background);
  $active-border: darken($border, 12.5%);

  $disabled-background: $background;
  $disabled-color: $color;
  $disabled-border: $border;

  // structure as maps
  $normal: ( 
    "background": $background, 
    "color": $color, 
    "border": $border
  );
  $hover: ( 
    "background": $hover-background, 
    "color": $hover-color, 
    "border": $hover-border
  );
  $focus: ( 
    "background": $focus-background, 
    "color": $focus-color, 
    "border": $focus-border, 
    "outlineColor": $focus-outline-color, 
    "outlineWidth": $focus-outline-width
  );
  $active: ( 
    "background": $active-background, 
    "color": $active-color, 
    "border": $active-border
  );
  $disabled: ( 
    "background": $disabled-background, 
    "color": $disabled-color, 
    "border": $disabled-border
  );
  $entry: (
    $theme: (
      "normal": $normal,
      "hover": $hover,
      "focus": $focus,
      "active": $active,
      "disabled": $disabled
    )
  );

  $button-themes: map-merge($entry, $button-themes);
}

$button-sizes: (
  "large": (
    "py": $btn-padding-y-lg,
    "px": $btn-padding-x-lg,
    "fontSize": $btn-font-size-lg,
    "lineHeight": $btn-line-height-lg,
    "borderRadius": $btn-border-radius-lg
  ),
  "small": (
    "py": $btn-padding-y-sm,
    "px": $btn-padding-x-sm,
    "fontSize": $btn-font-size-sm,
    "lineHeight": $btn-line-height-sm,
    "borderRadius": $btn-border-radius-sm
  )
);

.btn-sm {
  @include button-size($btn-padding-y-sm, $btn-padding-x-sm, $btn-font-size-sm, $btn-line-height-sm, $btn-border-radius-sm);
}
